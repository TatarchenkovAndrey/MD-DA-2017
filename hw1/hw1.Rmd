---
author: "Andrey Tatarchenkov"
keep_md: yes
output:
  html_document:
    fig_height: 8
    fig_width: 10
    keep_md: yes
header-includes:
- \usepackage[T2A]{fontenc}
- \usepackage[utf8]{inputenc}
- \usepackage[russian]{babel}
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, collapse = TRUE)
```
#Домашнее задание 1

##Работа с данными

По адресу http://www.stats.uwo.ca/faculty/braun/data/rnf6080.dat можно получить набор данных об осадках в Канаде с 1960 по 1980 годы. Необходимо загрузить эти данные при помощи read.table. Воспользуйтесь справкой, чтобы изучить аргументы, которые принимает функция.

1. Загрузите данные в датафрейм, который назовите ```data.df```.

    ```{r}
    data.df <- data.frame(read.table("rnf6080.dat"))
    ```
2. Сколько строк и столбцов в data.df? Если получилось не 5070 наблюдений 27 переменных, то проверяйте аргументы.

    ```{r}
    nrow(data.df)
    ncol(data.df)
    ```


3. Получите имена колонок из ```data.df```.

    ```{r}
    names <- colnames(data.df)
    names
    ```
    
4. Найдите значение из 5 строки седьмого столбца.

    ```{r}
    value <- data.df[5,7]
    value
    ```
    
5. Напечатайте целиком 2 строку из ```data.df```

    ```{r}
    row2 <- data.df[2,]
    row2
    ```
    
6. Объясните, что делает следующая строка кода ```names(data.df) <- c("year", "month", "day", seq(0,23))```. 


    Заменяет названия колонок на year, month, day и числа с 0 до 23 включительно
    
    
    Воспользуйтесь функциями ```head``` и ```tail```, чтобы просмотреть таблицу. Что представляют собой последние 24 колонки?
    
    
    ```{r}
    columns <- data.df[,tail(seq(ncol(data.df)), 24)]
    ```
      
    Последние 24 колонки – данные по дням

7. Добавьте новую колонку с названием daily, в которую запишите сумму крайних правых 24 колонок. Постройте гистограмму по этой колонке. Какие выводы можно сделать?

    ```{r}
    daily <- colSums(columns, na.rm=FALSE)
    hist(daily)
    ```
    
8. Создайте новый датафрейм ```fixed.df``` в котром исправьте замеченную ошибку. Постройте новую гистограмму, поясните почему она более корректна.
    
    Количество осадков не может быть отрицательным
    
    ```{r}
    fixed.df <- (daily*(-1))
    hist(fixed.df)
    ```
    
    

##Синтаксис и типизирование

1. Для каждой строки кода поясните полученный результат, либо объясните почему она ошибочна.

    ```{r}
    v <- c("4", "8", "15", "16", "23", "42")
    max(v) #Сравнение строк производится подобно сравнению слов 
    sort(v) #максимальная величина имеет наибольшее значение первого символа  
    #sum(v) – ошибка: нельзя складывать строки
    ```
    
2. Для следующих наборов команд поясните полученный результат, либо объясните почему они ошибочна.

    ```{r}
    v2 <- c("5", 7, 12)
    ##v2[2] + 2[3] – ошибка: нельзя складывать строки и числа. Вектор символов, потому что хотя бы один элемент задан строкой
    
    df3 <- data.frame(z1 = "5", z2 = 7, z3 = 12)
    df3[1,2] + df3[1,3]
    ## 7 + 12 = 19
    
    l4 <- list(z1 = "6", z2 = 42, z3 = "49", z4 = 126)
    l4[[2]] + l4[[4]]
    #42 + 126 = 168
    #l4[2] + l4[4] - ошибка: нельзя складывать list
    
    ```
    
##Работа с функциями и операторами

Оператор двоеточие создает последовательность целых чисел по порядку. Этот оператор — частный случай функции ``seq()``, которую вы использовали раньше. Изучите эту функцию, вызвав команду ``?seq``. Используя полученные знания, выведите на экран:

i. Числа от 1 до 10000 с инкрементом 372:

    ```{r}
    seq(1, 10000, 372)
    ```

ii. Числа от 1 до 10000 длиной 50:

    ```{r}
    seq(1, 10000, length.out = 50)
    ```

      Функция ``rep()`` повторяет переданный вектор указанное число раз. Объясните разницу   между ``rep(1:5,times = 3)`` и ``rep(1:5, each=3)``.

    ```{r}
    rep(1:5, times = 3) #Повторяет всю последовательность
    rep(1:5, each = 3) #Повторяет каждый элемент
    ```
  